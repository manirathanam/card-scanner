import{b as W,_ as X,a as J,c as Z,d as Y}from"./CardContent-CmKOxhLy.js";import{_ as w,a as ee}from"./Input-CzipBG_2.js";import{q as L,o as m,a as V,w as t,s as k,k as ae,l as te,u as e,C as se,e as x,v as O,d as C,c as P,x as S,m as R,G as le,U as oe,y as U,b as a,z as ne,H as de,A as re,B as ue,f as p,r as f,D as ie,g as c,_ as h,E as b,F as ce,h as pe,t as A,I as N,J as fe,K as me,j as _e,p as ge}from"./index-BAag0gC9.js";const Q={__name:"Dialog",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(u,{emit:s}){const r=L(u,s);return(l,_)=>(m(),V(e(se),ae(te(e(r))),{default:t(()=>[k(l.$slots,"default")]),_:3},16))}},z={__name:"DialogHeader",props:{class:{type:null,required:!1}},setup(u){const s=u;return(n,d)=>(m(),x("div",{class:O(e(C)("flex flex-col gap-y-1.5 text-center sm:text-left",s.class))},[k(n.$slots,"default")],2))}},I={__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const s=u,n=P(()=>{const{class:r,...l}=s;return l}),d=S(n);return(r,l)=>(m(),V(e(le),R(e(d),{class:e(C)("text-lg font-semibold leading-none tracking-tight",s.class)}),{default:t(()=>[k(r.$slots,"default")]),_:3},16,["class"]))}},j={__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const s=u,n=P(()=>{const{class:r,...l}=s;return l}),d=S(n);return(r,l)=>(m(),V(e(oe),R(e(d),{class:e(C)("text-sm text-muted-foreground",s.class)}),{default:t(()=>[k(r.$slots,"default")]),_:3},16,["class"]))}};/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(u,s)=>({size:n,strokeWidth:d=2,absoluteStrokeWidth:r,color:l,class:_,...g},{attrs:y,slots:v})=>U("svg",{...$,width:n||$.width,height:n||$.height,stroke:l||$.stroke,"stroke-width":r?Number(d)*24/Number(n):d,...y,class:["lucide",`lucide-${ve(u)}`],...g},[...s.map(F=>U(...F)),...v.default?[v.default()]:[]]);/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=he("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),we=p("span",{class:"sr-only"},"Close",-1),E={__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(u,{emit:s}){const n=u,d=s,r=P(()=>{const{class:_,...g}=n;return g}),l=L(r,d);return(_,g)=>(m(),V(e(ue),null,{default:t(()=>[a(e(ne),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),a(e(de),R(e(l),{class:e(C)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n.class)}),{default:t(()=>[k(_.$slots,"default"),a(e(re),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:t(()=>[a(e(ye),{class:"w-4 h-4"}),we]),_:1})]),_:3},16,["class"])]),_:3}))}},be={__name:"DialogFooter",props:{class:{type:null,required:!1}},setup(u){const s=u;return(n,d)=>(m(),x("div",{class:O(e(C)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",s.class))},[k(n.$slots,"default")],2))}},xe={class:"flex justify-center pt-8"},ke={class:"grid gap-4"},qe={class:"grid gap-4 grid-cols-1 md:grid-cols-2"},Ve={class:"grid gap-2"},Ce={class:"grid gap-2"},$e={class:"grid gap-4 grid-cols-1 md:grid-cols-2"},Fe={class:"grid gap-2"},Be={class:"grid gap-2"},De={class:"grid gap-4"},Ne={class:"grid gap-2"},Pe={class:"grid gap-2"},Re={key:0},Ue=p("div",null,"QR data",-1),Ae={key:1},je={__name:"Create",setup(u){f(null);let s=f(""),n=f(""),d=f(""),r=f(""),l=f(""),_=f(""),g=f(""),y=f(""),v=f([""]),F=ie(),B=f(!1),D=f(!1);async function T(){if(v.value=[],!s.value){v.value.push("First Name is required.");return}if(!l.value){v.value.push("Website is required.");return}l.value.startsWith("https://")||(l.value="https://"+l.value),B.value=!0;let q={companyname:_.value,firstname:s.value,lastname:n.value,website:l.value,email:d.value,phone:r.value,ownerid:fe.currentUser.uid};await me(_e(ge,"contacts"),q),setTimeout(()=>{B.value=!1,F.push("/list")},1e3)}function H(){g.value.click()}function K(q){D.value=!0;var i=new FileReader;i.onload=function(o){return function(M){qrcode.decode(M.target.result)}}(q.target.files[0]),qrcode.callback=function(o){y.value=o},i.readAsDataURL(q.target.files[0])}function G(){l.value=y.value,D.value=!1}return(q,i)=>(m(),x("div",xe,[a(e(Y),{class:"md:w-1/2 w-10/12"},{default:t(()=>[a(e(W),null,{default:t(()=>[a(e(X),null,{default:t(()=>[c("Create")]),_:1}),a(e(J),null,{default:t(()=>[c("Add new business card.")]),_:1})]),_:1}),a(e(Z),null,{default:t(()=>[p("div",ke,[p("div",qe,[p("div",Ve,[a(e(h),null,{default:t(()=>[c("First Name")]),_:1}),a(e(w),{type:"firstName",modelValue:e(s),"onUpdate:modelValue":i[0]||(i[0]=o=>b(s)?s.value=o:s=o)},null,8,["modelValue"])]),p("div",Ce,[a(e(h),null,{default:t(()=>[c("Last Name")]),_:1}),a(e(w),{type:"lastName",modelValue:e(n),"onUpdate:modelValue":i[1]||(i[1]=o=>b(n)?n.value=o:n=o)},null,8,["modelValue"])])]),p("div",$e,[p("div",Fe,[a(e(h),null,{default:t(()=>[c("Website")]),_:1}),a(e(w),{type:"website",modelValue:e(l),"onUpdate:modelValue":i[2]||(i[2]=o=>b(l)?l.value=o:l=o)},null,8,["modelValue"])]),p("div",Be,[a(e(h),null,{default:t(()=>[c("Phone")]),_:1}),a(e(w),{type:"phone",modelValue:e(r),"onUpdate:modelValue":i[3]||(i[3]=o=>b(r)?r.value=o:r=o)},null,8,["modelValue"])])]),p("div",De,[p("div",Ne,[a(e(h),null,{default:t(()=>[c("Email")]),_:1}),a(e(w),{type:"email",modelValue:e(d),"onUpdate:modelValue":i[4]||(i[4]=o=>b(d)?d.value=o:d=o)},null,8,["modelValue"])]),p("div",Pe,[a(e(h),null,{default:t(()=>[c("Company")]),_:1}),a(e(w),{type:"text",modelValue:e(_),"onUpdate:modelValue":i[5]||(i[5]=o=>b(_)?_.value=o:_=o)},null,8,["modelValue"])])])]),(m(!0),x(ce,null,pe(e(v),o=>(m(),V(e(h),{class:"text-red-400"},{default:t(()=>[c(A(o),1)]),_:2},1024))),256))]),_:1}),a(e(ee),{class:"flex flex-col px-6 pb-6 gap-2"},{default:t(()=>[a(e(N),{variant:"outline",onClick:T},{default:t(()=>[c(" Create ")]),_:1}),a(e(N),{variant:"ghost",onClick:H},{default:t(()=>[c(" Auto Fill by Scanning QR ")]),_:1})]),_:1})]),_:1}),p("input",{type:"file",onChange:K,accept:"image/*",capture:"camera",class:"hidden",ref_key:"fileInput",ref:g},null,544),a(e(Q),{open:e(B)},{default:t(()=>[a(e(E),null,{default:t(()=>[a(e(z),null,{default:t(()=>[a(e(I),null,{default:t(()=>[c("Saving...")]),_:1}),a(e(j),null,{default:t(()=>[c(" Please wait while we saving your information. ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),a(e(Q),{open:e(D)},{default:t(()=>[a(e(E),null,{default:t(()=>[a(e(z),null,{default:t(()=>[a(e(I),null,{default:t(()=>[c("Processing QR...")]),_:1}),a(e(j),null,{default:t(()=>[e(y)?(m(),x("div",Re,[Ue,p("div",null,A(e(y)),1)])):(m(),x("span",Ae," Please wait while we processing QR information. "))]),_:1})]),_:1}),a(e(be),null,{default:t(()=>[a(e(N),{variant:"ghost",onClick:G},{default:t(()=>[c(" Add to Form ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}};export{je as default};
