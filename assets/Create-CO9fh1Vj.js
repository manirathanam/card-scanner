import{b as M,_ as W,a as X,c as J,d as Z}from"./CardContent-B6oNINjc.js";import{_ as w,a as Y}from"./Input-DehpyhP1.js";import{q as E,o as m,a as C,w as t,s as k,k as ee,l as ae,u as e,C as te,e as x,v as L,d as $,c as N,x as O,m as P,G as se,U as le,y as R,b as a,z as oe,H as ne,A as de,B as re,f as p,r as f,g as c,_ as h,D as b,F as ue,h as ie,t as U,E as D,I as ce,J as pe,j as fe,p as me}from"./index-qvHGwOTS.js";const A={__name:"Dialog",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(u,{emit:s}){const r=E(u,s);return(l,_)=>(m(),C(e(te),ee(ae(e(r))),{default:t(()=>[k(l.$slots,"default")]),_:3},16))}},Q={__name:"DialogHeader",props:{class:{type:null,required:!1}},setup(u){const s=u;return(n,d)=>(m(),x("div",{class:L(e($)("flex flex-col gap-y-1.5 text-center sm:text-left",s.class))},[k(n.$slots,"default")],2))}},z={__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const s=u,n=N(()=>{const{class:r,...l}=s;return l}),d=O(n);return(r,l)=>(m(),C(e(se),P(e(d),{class:e($)("text-lg font-semibold leading-none tracking-tight",s.class)}),{default:t(()=>[k(r.$slots,"default")]),_:3},16,["class"]))}},I={__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u){const s=u,n=N(()=>{const{class:r,...l}=s;return l}),d=O(n);return(r,l)=>(m(),C(e(le),P(e(d),{class:e($)("text-sm text-muted-foreground",s.class)}),{default:t(()=>[k(r.$slots,"default")]),_:3},16,["class"]))}};/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(u,s)=>({size:n,strokeWidth:d=2,absoluteStrokeWidth:r,color:l,class:_,...g},{attrs:y,slots:v})=>R("svg",{...F,width:n||F.width,height:n||F.height,stroke:l||F.stroke,"stroke-width":r?Number(d)*24/Number(n):d,...y,class:["lucide",`lucide-${_e(u)}`],...g},[...s.map(q=>R(...q)),...v.default?[v.default()]:[]]);/**
 * @license lucide-vue-next v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=ge("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),he=p("span",{class:"sr-only"},"Close",-1),j={__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(u,{emit:s}){const n=u,d=s,r=N(()=>{const{class:_,...g}=n;return g}),l=E(r,d);return(_,g)=>(m(),C(e(re),null,{default:t(()=>[a(e(oe),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),a(e(ne),P(e(l),{class:e($)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n.class)}),{default:t(()=>[k(_.$slots,"default"),a(e(de),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:t(()=>[a(e(ve),{class:"w-4 h-4"}),he]),_:1})]),_:3},16,["class"])]),_:3}))}},ye={__name:"DialogFooter",props:{class:{type:null,required:!1}},setup(u){const s=u;return(n,d)=>(m(),x("div",{class:L(e($)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",s.class))},[k(n.$slots,"default")],2))}},we={class:"flex justify-center pt-8"},be={class:"grid gap-4"},xe={class:"grid gap-4 grid-cols-1 md:grid-cols-2"},ke={class:"grid gap-2"},qe={class:"grid gap-2"},Ve={class:"grid gap-4 grid-cols-1 md:grid-cols-2"},Ce={class:"grid gap-2"},$e={class:"grid gap-2"},Fe={class:"grid gap-4"},Be={class:"grid gap-2"},De={class:"grid gap-2"},Ne={key:0},Pe=p("div",null,"QR data",-1),Re={key:1},ze={__name:"Create",setup(u){f(null);let s=f(""),n=f(""),d=f(""),r=f(""),l=f(""),_=f(""),g=f(""),y=f(""),v=f([""]),q=f(!1),B=f(!1);async function S(){if(v.value=[],!s.value){v.value.push("First Name is required.");return}if(!l.value){v.value.push("Website is required.");return}l.value.startsWith("https://")||(l.value="https://"+l.value),q.value=!0;let V={companyname:_.value,firstname:s.value,lastname:n.value,website:l.value,email:d.value,phone:r.value,ownerid:ce.currentUser.uid};await pe(fe(me,"contacts"),V),setTimeout(()=>{q.value=!1},1e3)}function T(){g.value.click()}function H(V){B.value=!0;var i=new FileReader;i.onload=function(o){return function(K){qrcode.decode(K.target.result)}}(V.target.files[0]),qrcode.callback=function(o){y.value=o},i.readAsDataURL(V.target.files[0])}function G(){l.value=y.value,B.value=!1}return(V,i)=>(m(),x("div",we,[a(e(Z),{class:"md:w-1/2 w-10/12"},{default:t(()=>[a(e(M),null,{default:t(()=>[a(e(W),null,{default:t(()=>[c("Create")]),_:1}),a(e(X),null,{default:t(()=>[c("Add new business card.")]),_:1})]),_:1}),a(e(J),null,{default:t(()=>[p("div",be,[p("div",xe,[p("div",ke,[a(e(h),null,{default:t(()=>[c("First Name")]),_:1}),a(e(w),{type:"firstName",modelValue:e(s),"onUpdate:modelValue":i[0]||(i[0]=o=>b(s)?s.value=o:s=o)},null,8,["modelValue"])]),p("div",qe,[a(e(h),null,{default:t(()=>[c("Last Name")]),_:1}),a(e(w),{type:"lastName",modelValue:e(n),"onUpdate:modelValue":i[1]||(i[1]=o=>b(n)?n.value=o:n=o)},null,8,["modelValue"])])]),p("div",Ve,[p("div",Ce,[a(e(h),null,{default:t(()=>[c("Website")]),_:1}),a(e(w),{type:"website",modelValue:e(l),"onUpdate:modelValue":i[2]||(i[2]=o=>b(l)?l.value=o:l=o)},null,8,["modelValue"])]),p("div",$e,[a(e(h),null,{default:t(()=>[c("Phone")]),_:1}),a(e(w),{type:"phone",modelValue:e(r),"onUpdate:modelValue":i[3]||(i[3]=o=>b(r)?r.value=o:r=o)},null,8,["modelValue"])])]),p("div",Fe,[p("div",Be,[a(e(h),null,{default:t(()=>[c("Email")]),_:1}),a(e(w),{type:"email",modelValue:e(d),"onUpdate:modelValue":i[4]||(i[4]=o=>b(d)?d.value=o:d=o)},null,8,["modelValue"])]),p("div",De,[a(e(h),null,{default:t(()=>[c("Company")]),_:1}),a(e(w),{type:"text",modelValue:e(_),"onUpdate:modelValue":i[5]||(i[5]=o=>b(_)?_.value=o:_=o)},null,8,["modelValue"])])])]),(m(!0),x(ue,null,ie(e(v),o=>(m(),C(e(h),{class:"text-red-400"},{default:t(()=>[c(U(o),1)]),_:2},1024))),256))]),_:1}),a(e(Y),{class:"flex flex-col px-6 pb-6 gap-2"},{default:t(()=>[a(e(D),{variant:"outline",onClick:S},{default:t(()=>[c(" Create ")]),_:1}),a(e(D),{variant:"ghost",onClick:T},{default:t(()=>[c(" Auto Fill by Scanning QR ")]),_:1})]),_:1})]),_:1}),p("input",{type:"file",onChange:H,accept:"image/*",capture:"camera",class:"hidden",ref_key:"fileInput",ref:g},null,544),a(e(A),{open:e(q)},{default:t(()=>[a(e(j),null,{default:t(()=>[a(e(Q),null,{default:t(()=>[a(e(z),null,{default:t(()=>[c("Saving...")]),_:1}),a(e(I),null,{default:t(()=>[c(" Please wait while we saving your information. ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),a(e(A),{open:e(B)},{default:t(()=>[a(e(j),null,{default:t(()=>[a(e(Q),null,{default:t(()=>[a(e(z),null,{default:t(()=>[c("Processing QR...")]),_:1}),a(e(I),null,{default:t(()=>[e(y)?(m(),x("div",Ne,[Pe,p("div",null,U(e(y)),1)])):(m(),x("span",Re," Please wait while we processing QR information. "))]),_:1})]),_:1}),a(e(ye),null,{default:t(()=>[a(e(D),{variant:"ghost",onClick:G},{default:t(()=>[c(" Add to Form ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}};export{ze as default};
